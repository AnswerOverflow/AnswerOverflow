---
alwaysApply: false
---

We vendor the `Effect` repository as a git subtree under `.context/effect/`.

- **Patterns and APIs**: Look in `.context/effect/` for canonical patterns, implementations, and best practices to follow when building agents and related workflows.
- **Updating the subtree**:
  - `git fetch effect-upstream`
  - `git subtree pull --prefix=.context/effect effect-upstream main --squash`

## AnswerOverflow Production Codebase

We also include the AnswerOverflow production codebase as a git submodule under `.context/AnswerOverflow/`.

- **Context**: This is the current production codebase that we're rewriting. Use it as a reference for understanding existing functionality, business logic, and patterns that need to be preserved or improved in the rewrite.
- **Updating the submodule**:
  - `git submodule update --remote .context/AnswerOverflow`
  - Or navigate to `.context/AnswerOverflow` and pull changes: `cd .context/AnswerOverflow && git pull`

When I say 'the old answer overflow' i am referring to this codebase

## Better Auth

We include the Better Auth repository as a git submodule under `.context/better-auth/`.

- **Context**: This is the Better Auth library for Convex. Use it as a reference for authentication patterns, implementations, and best practices when working with authentication in Convex.
- **Updating the submodule**:
  - `git submodule update --remote .context/better-auth`
  - Or navigate to `.context/better-auth` and pull changes: `cd .context/better-auth && git pull`

## Convex Backend

We include the Convex backend repository as a git submodule under `.context/convex-backend/`.

- **Context**: This is the official Convex backend implementation. Use it as a reference for understanding Convex internals, backend patterns, and implementation details.
- **Updating the submodule**:
  - `git submodule update --remote .context/convex-backend`
  - Or navigate to `.context/convex-backend` and pull changes: `cd .context/convex-backend && git pull`

## Convex JS

We include the Convex JS client library repository as a git submodule under `.context/convex-js/`.

- **Context**: This is the official Convex JavaScript/TypeScript client library. Use it as a reference for understanding client-side Convex patterns, API usage, and implementation details.
- **Updating the submodule**:
  - `git submodule update --remote .context/convex-js`
  - Or navigate to `.context/convex-js` and pull changes: `cd .context/convex-js && git pull`

## Effect Atom

We include the Effect Atom repository as a git submodule under `.context/effect-atom/`.

- **Context**: This is the reactive state management library for Effect. Use it for state management in React components that need to run Effects with service dependencies.
- **Key patterns**:
  - `Atom.runtime(Layer)` - Create a runtime with service layer for atoms that need service access
  - `Atom.family((param) => atom)` - Create parameterized atoms
  - `runtime.atom(Effect)` - Create an atom that runs an Effect with the runtime's services
  - `runtime.fn<Input>()(fn)` - Create a function atom for triggering Effects
  - `useAtomValue(atom)` - Read atom value in React
  - `useAtomSet(atom)` - Get setter for writable/function atoms
  - `Result.isInitial/isSuccess/isFailure` - Check atom result state
- **Updating the submodule**:
  - `git submodule update --remote .context/effect-atom`
  - Or navigate to `.context/effect-atom` and pull changes: `cd .context/effect-atom && git pull`
